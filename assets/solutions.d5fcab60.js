const l=document.querySelector(".nav");if(l){const t=l.querySelector(".nav-toggle"),o=l.querySelector(".nav-menu"),e=window.matchMedia("(max-width: 920px)"),n=l.querySelectorAll("a");if(t&&o){const s=d=>{o.setAttribute("aria-hidden",d?"true":"false")},a=d=>{d.key==="Escape"&&(c(),t.focus())},u=()=>{l.classList.add("is-open"),t.setAttribute("aria-expanded","true"),s(!1),document.body.classList.add("nav-is-locked"),document.addEventListener("keydown",a)},c=()=>{l.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),document.body.classList.remove("nav-is-locked"),s(e.matches),document.removeEventListener("keydown",a)},i=()=>{e.matches?(t.removeAttribute("hidden"),s(!l.classList.contains("is-open"))):(t.setAttribute("hidden",""),l.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),document.body.classList.remove("nav-is-locked"),s(!1),document.removeEventListener("keydown",a))};typeof e.addEventListener=="function"?e.addEventListener("change",i):typeof e.addListener=="function"&&e.addListener(i),t.addEventListener("click",()=>{l.classList.contains("is-open")?c():u()}),n.forEach(d=>{d.addEventListener("click",()=>{l.classList.contains("is-open")&&c()})}),document.addEventListener("click",d=>{!l.classList.contains("is-open")||l.contains(d.target)||c()}),i()}}else{const t=document.querySelector("#hamburger"),o=document.querySelector("#navbar");if(t&&o){const e=o.querySelectorAll("a");t.addEventListener("click",()=>{o.classList.toggle("navbar-active")}),e.forEach(n=>{n.addEventListener("click",()=>{o.classList.toggle("navbar-active")})})}}let m=document.querySelectorAll(".faq");for(let t=0;t<m.length;t++){let o=m[t].querySelector(".faq-answer"),e=m[t].querySelector(".arrow-down");m[t].addEventListener("click",()=>{for(let n=0;n<m.length;n++){let s=m[n].querySelector(".faq-answer"),a=m[n].querySelector(".arrow-down");m[t]!=m[n]&&(s.style.maxHeight="0px",a.classList.replace("rotate-180","rotate-0"))}e.classList.contains("rotate-180")?(o.style.maxHeight=0+"px",e.classList.replace("rotate-180","rotate-0")):(o.style.maxHeight=o.scrollHeight+"px",e.classList.replace("rotate-0","rotate-180"))})}let k=document.querySelectorAll(".switcher");localStorage.getItem("color-theme")==="dark"||!localStorage.getItem("color-theme")?(document.documentElement.classList.add("dark"),localStorage.getItem("color-theme")||localStorage.setItem("color-theme","dark")):document.documentElement.classList.remove("dark");k.forEach(t=>{t.addEventListener("click",function(){localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))})});document.addEventListener("DOMContentLoaded",function(){if(window.location.pathname.includes("index.html")||window.location.pathname==="/"){const o=[{formId:"contactForm1",messageId:"thankYouMessage1"},{formId:"contactForm2",messageId:"thankYouMessage2"}];o.forEach(({formId:e,messageId:n})=>{const s=document.getElementById(e);if(!s){console.warn(`Form with ID "${e}" not found`);return}s.addEventListener("submit",function(a){a.preventDefault();const u=new FormData(s),c=u.get("email");if(u.get("website")){console.warn("Bot detected via honeypot");return}const d=Date.now(),E=btoa(`${d}:${c.substring(0,3)}`),w={data:{email:c,token:E,timestamp:d}},y=s.querySelector('button[type="submit"]'),v=s.querySelector(".loader");y.classList.add("hidden"),v.classList.remove("hidden");const g=new AbortController,L=setTimeout(()=>g.abort(),1e4);fetch("https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-908849fd-e90a-4354-a732-68caaaf3a61d/fctr-website-mailhook/mailhook-function",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w),signal:g.signal}).then(f=>{if(clearTimeout(L),!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return f.json()}).then(f=>{console.log("Success:",f),o.forEach(({formId:r})=>{document.getElementById(r).classList.add("hidden")}),o.forEach(({messageId:r})=>{const h=document.getElementById(r);h.classList.remove("hidden"),h.classList.add("slide-in-bottom")})}).catch(f=>{clearTimeout(L),console.error("Error:",f),y.classList.remove("hidden"),v.classList.add("hidden");const r=s.querySelector(`#email-error-${e.slice(-1)}`);r&&(f.name==="AbortError"?r.textContent="Request timed out. Please try the email link below.":r.textContent="Form submission failed. Please try the email link below.",r.classList.remove("hidden"),setTimeout(()=>{r.classList.add("hidden")},5e3))})})})}});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".tab"),o=document.querySelectorAll(".panel"),e=document.querySelectorAll('[id^="preview-panel-"]');t.forEach(n=>{n.addEventListener("click",function(){t.forEach(i=>{i.setAttribute("aria-selected","false"),i.setAttribute("tabindex","-1"),i.classList.remove("active")}),o.forEach(i=>{i.classList.add("invisible","opacity-0"),i.classList.remove("scale-100","opacity-100")}),e.forEach(i=>{i.classList.add("invisible","opacity-0","translate-y-[100%]"),i.classList.remove("scale-100","opacity-100","translate-y-0"),i.style.zIndex="0"}),n.setAttribute("aria-selected","true"),n.setAttribute("tabindex","0"),n.classList.add("active");const s=n.getAttribute("aria-controls"),a=document.getElementById(s);a.classList.remove("invisible","opacity-0"),a.classList.add("scale-100","opacity-100");const u=`preview-${s}`,c=document.getElementById(u);c&&(c.classList.remove("invisible","opacity-0","translate-y-[100%]"),c.classList.add("scale-100","opacity-100","translate-y-0"),c.style.zIndex="10")})})});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("imageModal"),o=document.getElementById("zoomedImage");if(!t||!o){console.warn("Modal elements not found. Image zoom functionality disabled.");return}window.openZoomModal=function(e){!e||(o.src=e.src,o.alt=e.alt,t.classList.remove("hidden"),document.body.style.overflow="hidden")},window.closeZoomModal=function(){t.classList.add("hidden"),document.body.style.overflow=""},t.addEventListener("click",e=>{e.target===e.currentTarget&&window.closeZoomModal()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&window.closeZoomModal()})});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("daily-calls"),o=document.getElementById("hourly-cost"),e=document.getElementById("minutes-saved"),n=document.getElementById("annual-savings");if(t&&o&&e&&n){const s=()=>{const a=parseFloat(t.value)||0,u=parseFloat(o.value)||0,c=parseFloat(e.value)||0,i=a*c*(u/60)*250;n.textContent="$"+Math.round(i).toLocaleString()};t.addEventListener("input",s),o.addEventListener("input",s),e.addEventListener("input",s)}});const I=["gmail.com","yahoo.com","hotmail.com","outlook.com","aol.com","icloud.com","proton.me","protonmail.com"];function b(t){var e;const o=(e=t.split("@")[1])==null?void 0:e.toLowerCase();return I.includes(o)?{valid:!1,message:"Please use your work email address"}:{valid:!0,message:""}}const p=(t,o)=>{const e=document.getElementById(t);e&&e.addEventListener("input",function(n){const s=b(n.target.value),a=document.getElementById(o);a&&(s.valid?(a.classList.add("hidden"),n.target.setCustomValidity("")):(a.textContent=s.message,a.classList.remove("hidden"),n.target.setCustomValidity(s.message)))})};p("work-email-1","email-error-1");p("work-email-2","email-error-2");document.addEventListener("DOMContentLoaded",function(){if(document.getElementById("demo-video")){const o=document.getElementById("placeholder-container"),e=document.getElementById("main-gif");o&&e&&(e.addEventListener("load",function(){e.classList.add("opacity-100","transition-opacity","duration-500"),o.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(()=>{o.style.display="none"},500)}),e.addEventListener("error",function(){console.error("Failed to load GIF");const n=o.querySelector(".animate-spin"),s=o.querySelector("p");n&&(n.style.display="none"),s&&(s.textContent="Preview image unavailable")}),setTimeout(function(){e.complete&&e.naturalHeight!==0?e.dispatchEvent(new Event("load")):e.dispatchEvent(new Event("error"))},1e4))}});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("ai-agent-modal"),o=document.getElementById("close-modal");if(document.getElementById("modal-backdrop"),!t||!o){console.log("Modal elements not found");return}const e=o.querySelector("svg");e&&e.classList.add("pointer-events-none");function n(){t.classList.add("opacity-0"),t.classList.add("pointer-events-none"),t.style.opacity="0",t.style.pointerEvents="none",document.body.classList.remove("overflow-hidden")}o.onclick=n});
