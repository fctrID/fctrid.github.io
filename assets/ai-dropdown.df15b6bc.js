"scrollRestoration"in history&&(history.scrollRestoration="manual");(function(){const o=document.querySelector("header");if(!o)return;const t=()=>{window.scrollY>20?o.classList.add("scrolled"):o.classList.remove("scrolled")};window.addEventListener("scroll",t,{passive:!0}),t()})();(function(){const o=document.getElementById("menu-toggle"),t=document.getElementById("main-nav");!o||!t||(o.addEventListener("click",a=>{if(a.preventDefault(),t.classList.contains("active"))t.classList.remove("active"),t.classList.add("hidden"),document.body.style.overflow="",o.setAttribute("aria-expanded","false");else{t.classList.add("active"),t.classList.remove("hidden"),document.body.style.overflow="hidden",o.setAttribute("aria-expanded","true");const e=t.querySelector(".nav-ai-dropdown"),n=e?e.querySelector(".nav-ai-btn"):null;e&&n&&(e.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"))}}),t.querySelectorAll("a").forEach(a=>{a.addEventListener("click",()=>{t.classList.remove("active"),t.classList.add("hidden"),document.body.style.overflow="",o.setAttribute("aria-expanded","false")})}))})();(function(){const o=t=>{if(t.dataset.scrambled==="true")return;t.dataset.scrambled="true";const a=t.innerText,s="0123456789%MINSZEROTIME";let e=0;const n=setInterval(()=>{t.innerText=a.split("").map((r,i)=>i<e?a[i]:s[Math.floor(Math.random()*s.length)]).join(""),e>=a.length&&clearInterval(n),e+=1/3},30)};document.addEventListener("aos:in",({detail:t})=>{const a=t.querySelector(".metric-value");a&&setTimeout(()=>o(a),200)})})();window.scrollTo(0,0);AOS.init({once:!0,duration:1e3,offset:100,easing:"ease-in-out-quart"});(function(){let o=0,t=0;window.addEventListener("mousemove",s=>{o=s.clientX,t=s.clientY,document.documentElement.style.setProperty("--mouse-x",`${o}px`),document.documentElement.style.setProperty("--mouse-y",`${t}px`)}),document.querySelectorAll(".bento-card, .metric-bar, .bento-card-flat, .hero-stats-card, .hero-stat-item").forEach(s=>{s.addEventListener("mousemove",e=>{const n=s.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;s.style.setProperty("--local-x",`${r}px`),s.style.setProperty("--local-y",`${i}px`);const l=n.width/2,c=n.height/2,u=(r-l)/50,f=(i-c)/50;s.style.transform=`scale(1.005) translate(${u}px, ${f}px)`}),s.addEventListener("mouseleave",()=>{s.style.transform="scale(1) translate(0, 0)"})}),document.querySelectorAll(".btn-portal, .btn-primary, .btn-calculate, .btn-header-cta")})();(function(){const o=['"What are the last 4 digits of your social?"',`"What is your mother's maiden name?"`,'"What was the brand of your first car?"','"What was the city of your first job?"','"Where did you meet your current SO?"'],t=document.getElementById("hero-rotating-question");if(!t)return;let a=0;function s(){t.classList.add("switching"),setTimeout(()=>{a=(a+1)%o.length,t.textContent=o[a],t.classList.remove("switching")},800)}setInterval(s,5e3)})();(function(){const o=document.getElementById("daily-calls"),t=document.getElementById("hourly-cost"),a=document.getElementById("minutes-saved"),s=document.getElementById("calculate-savings"),e=document.getElementById("annual-savings"),n=document.getElementById("hours-saved-annual"),r=document.getElementById("hours-saved-monthly");if(!o||!t||!s||!a)return;function i(d,v,h=1e3,b=""){const g=parseInt(d.textContent.replace(/[^0-9]/g,""))||0,m=performance.now();function y(E){const L=E-m,S=Math.min(L/h,1),w=1-Math.pow(1-S,4),x=Math.floor(g+(v-g)*w);d.textContent=b+x.toLocaleString(),S<1&&requestAnimationFrame(y)}requestAnimationFrame(y)}function l(){const d=parseInt(o.value)||100,v=parseInt(t.value)||25,h=parseInt(a.value)||5,b=250,m=d*h*b/60,y=m/12,E=Math.round(m*v);e&&i(e,E,1200,"$"),n&&i(n,Math.round(m),1200),r&&i(r,Math.round(y),1200)}s.addEventListener("click",d=>{d.preventDefault(),l()});const c=100,u=25,p=c*5*250/60;e&&(e.textContent="$"+Math.round(p*u).toLocaleString()),n&&(n.textContent=Math.round(p).toLocaleString()),r&&(r.textContent=Math.round(p/12).toLocaleString())})();(function(){document.querySelectorAll(".command-unit-form").forEach(t=>{t.addEventListener("submit",async a=>{a.preventDefault();const s=t.querySelector('input[type="email"]').value,e=t.querySelector("button"),n=e.innerHTML;e.disabled=!0,e.innerHTML="<span>Processing...</span>";try{if((await fetch("https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-908849fd-e90a-4354-a732-68caaaf3a61d/fctr-website-mailhook/mailhook-function",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,source:window.location.pathname,form_id:t.id})})).ok)e.innerHTML="<span>Request Received</span>",t.reset();else throw new Error("Submission failed")}catch(r){console.error("Submission error:",r),e.innerHTML="<span>Error. Try again.</span>",setTimeout(()=>{e.disabled=!1,e.innerHTML=n},3e3)}})})})();(function(){const o=document.querySelectorAll(".nav-ai-dropdown");o.forEach(e=>{const n=e.querySelector(".nav-ai-btn"),r=e.querySelector(".nav-ai-menu");if(!n||!r)return;n.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation();const c=n.getAttribute("aria-expanded")==="true";s(e),n.setAttribute("aria-expanded",!c),e.setAttribute("aria-expanded",!c)}),n.addEventListener("keydown",l=>{if(l.key==="Escape")t(e,n);else if(l.key==="ArrowDown"&&n.getAttribute("aria-expanded")==="true"){l.preventDefault();const c=r.querySelector("a");c&&c.focus()}});const i=r.querySelectorAll("a");i.forEach((l,c)=>{l.addEventListener("keydown",u=>{if(u.key==="Escape")t(e,n),n.focus();else if(u.key==="ArrowDown"){u.preventDefault();const f=i[c+1];f&&f.focus()}else u.key==="ArrowUp"&&(u.preventDefault(),c===0?n.focus():i[c-1].focus())})})});function t(e,n){n.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false")}function a(){o.forEach(e=>{const n=e.querySelector(".nav-ai-btn");n&&(n.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"))})}function s(e){o.forEach(n=>{if(n!==e){const r=n.querySelector(".nav-ai-btn");r&&(r.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"))}})}document.addEventListener("click",e=>{e.target.closest(".nav-ai-dropdown")||a()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&a()})})();
