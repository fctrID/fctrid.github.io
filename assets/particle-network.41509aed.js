const u=document.querySelector(".nav");if(u){const t=u.querySelector(".nav-toggle"),o=u.querySelector(".nav-menu"),e=window.matchMedia("(max-width: 920px)"),a=u.querySelectorAll("a");if(t&&o){const n=m=>{o.setAttribute("aria-hidden",m?"true":"false")},c=m=>{m.key==="Escape"&&(l(),t.focus())},h=()=>{u.classList.add("is-open"),t.setAttribute("aria-expanded","true"),n(!1),document.body.classList.add("nav-is-locked"),document.addEventListener("keydown",c)},l=()=>{u.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),document.body.classList.remove("nav-is-locked"),n(e.matches),document.removeEventListener("keydown",c)},i=()=>{e.matches?(t.removeAttribute("hidden"),n(!u.classList.contains("is-open"))):(t.setAttribute("hidden",""),u.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),document.body.classList.remove("nav-is-locked"),n(!1),document.removeEventListener("keydown",c))};typeof e.addEventListener=="function"?e.addEventListener("change",i):typeof e.addListener=="function"&&e.addListener(i),t.addEventListener("click",()=>{u.classList.contains("is-open")?l():h()}),a.forEach(m=>{m.addEventListener("click",()=>{u.classList.contains("is-open")&&l()})}),document.addEventListener("click",m=>{!u.classList.contains("is-open")||u.contains(m.target)||l()}),i()}}else{const t=document.querySelector("#hamburger"),o=document.querySelector("#navbar");if(t&&o){const e=o.querySelectorAll("a");t.addEventListener("click",()=>{o.classList.toggle("navbar-active")}),e.forEach(a=>{a.addEventListener("click",()=>{o.classList.toggle("navbar-active")})})}}let f=document.querySelectorAll(".faq");for(let t=0;t<f.length;t++){let o=f[t].querySelector(".faq-answer"),e=f[t].querySelector(".arrow-down");f[t].addEventListener("click",()=>{for(let a=0;a<f.length;a++){let n=f[a].querySelector(".faq-answer"),c=f[a].querySelector(".arrow-down");f[t]!=f[a]&&(n.style.maxHeight="0px",c.classList.replace("rotate-180","rotate-0"))}e.classList.contains("rotate-180")?(o.style.maxHeight=0+"px",e.classList.replace("rotate-180","rotate-0")):(o.style.maxHeight=o.scrollHeight+"px",e.classList.replace("rotate-0","rotate-180"))})}let S=document.querySelectorAll(".switcher");localStorage.getItem("color-theme")==="dark"||!localStorage.getItem("color-theme")?(document.documentElement.classList.add("dark"),localStorage.getItem("color-theme")||localStorage.setItem("color-theme","dark")):document.documentElement.classList.remove("dark");S.forEach(t=>{t.addEventListener("click",function(){localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))})});document.addEventListener("DOMContentLoaded",function(){if(window.location.pathname.includes("index.html")||window.location.pathname==="/"){const o=[{formId:"contactForm1",messageId:"thankYouMessage1"},{formId:"contactForm2",messageId:"thankYouMessage2"}];o.forEach(({formId:e,messageId:a})=>{const n=document.getElementById(e);if(!n){console.warn(`Form with ID "${e}" not found`);return}n.addEventListener("submit",function(c){c.preventDefault();const h=new FormData(n),l=h.get("email");if(h.get("website")){console.warn("Bot detected via honeypot");return}const m=Date.now(),v=btoa(`${m}:${l.substring(0,3)}`),L={data:{email:l,token:v,timestamp:m}},p=n.querySelector('button[type="submit"]'),y=n.querySelector(".loader");p.classList.add("hidden"),y.classList.remove("hidden");const E=new AbortController,d=setTimeout(()=>E.abort(),1e4);fetch("https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/web/fn-908849fd-e90a-4354-a732-68caaaf3a61d/fctr-website-mailhook/mailhook-function",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L),signal:E.signal}).then(s=>{if(clearTimeout(d),!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{console.log("Success:",s),o.forEach(({formId:r})=>{document.getElementById(r).classList.add("hidden")}),o.forEach(({messageId:r})=>{const g=document.getElementById(r);g.classList.remove("hidden"),g.classList.add("slide-in-bottom")})}).catch(s=>{clearTimeout(d),console.error("Error:",s),p.classList.remove("hidden"),y.classList.add("hidden");const r=n.querySelector(`#email-error-${e.slice(-1)}`);r&&(s.name==="AbortError"?r.textContent="Request timed out. Please try the email link below.":r.textContent="Form submission failed. Please try the email link below.",r.classList.remove("hidden"),setTimeout(()=>{r.classList.add("hidden")},5e3))})})})}});document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".tab"),o=document.querySelectorAll(".panel"),e=document.querySelectorAll('[id^="preview-panel-"]');t.forEach(a=>{a.addEventListener("click",function(){t.forEach(i=>{i.setAttribute("aria-selected","false"),i.setAttribute("tabindex","-1"),i.classList.remove("active")}),o.forEach(i=>{i.classList.add("invisible","opacity-0"),i.classList.remove("scale-100","opacity-100")}),e.forEach(i=>{i.classList.add("invisible","opacity-0","translate-y-[100%]"),i.classList.remove("scale-100","opacity-100","translate-y-0"),i.style.zIndex="0"}),a.setAttribute("aria-selected","true"),a.setAttribute("tabindex","0"),a.classList.add("active");const n=a.getAttribute("aria-controls"),c=document.getElementById(n);c.classList.remove("invisible","opacity-0"),c.classList.add("scale-100","opacity-100");const h=`preview-${n}`,l=document.getElementById(h);l&&(l.classList.remove("invisible","opacity-0","translate-y-[100%]"),l.classList.add("scale-100","opacity-100","translate-y-0"),l.style.zIndex="10")})})});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("imageModal"),o=document.getElementById("zoomedImage");if(!t||!o){console.warn("Modal elements not found. Image zoom functionality disabled.");return}window.openZoomModal=function(e){!e||(o.src=e.src,o.alt=e.alt,t.classList.remove("hidden"),document.body.style.overflow="hidden")},window.closeZoomModal=function(){t.classList.add("hidden"),document.body.style.overflow=""},t.addEventListener("click",e=>{e.target===e.currentTarget&&window.closeZoomModal()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&window.closeZoomModal()})});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("daily-calls"),o=document.getElementById("hourly-cost"),e=document.getElementById("minutes-saved"),a=document.getElementById("annual-savings");if(t&&o&&e&&a){const n=()=>{const c=parseFloat(t.value)||0,h=parseFloat(o.value)||0,l=parseFloat(e.value)||0,i=c*l*(h/60)*250;a.textContent="$"+Math.round(i).toLocaleString()};t.addEventListener("input",n),o.addEventListener("input",n),e.addEventListener("input",n)}});const x=["gmail.com","yahoo.com","hotmail.com","outlook.com","aol.com","icloud.com","proton.me","protonmail.com"];function M(t){var e;const o=(e=t.split("@")[1])==null?void 0:e.toLowerCase();return x.includes(o)?{valid:!1,message:"Please use your work email address"}:{valid:!0,message:""}}const k=(t,o)=>{const e=document.getElementById(t);e&&e.addEventListener("input",function(a){const n=M(a.target.value),c=document.getElementById(o);c&&(n.valid?(c.classList.add("hidden"),a.target.setCustomValidity("")):(c.textContent=n.message,c.classList.remove("hidden"),a.target.setCustomValidity(n.message)))})};k("work-email-1","email-error-1");k("work-email-2","email-error-2");document.addEventListener("DOMContentLoaded",function(){if(document.getElementById("demo-video")){const o=document.getElementById("placeholder-container"),e=document.getElementById("main-gif");o&&e&&(e.addEventListener("load",function(){e.classList.add("opacity-100","transition-opacity","duration-500"),o.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(()=>{o.style.display="none"},500)}),e.addEventListener("error",function(){console.error("Failed to load GIF");const a=o.querySelector(".animate-spin"),n=o.querySelector("p");a&&(a.style.display="none"),n&&(n.textContent="Preview image unavailable")}),setTimeout(function(){e.complete&&e.naturalHeight!==0?e.dispatchEvent(new Event("load")):e.dispatchEvent(new Event("error"))},1e4))}});document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("ai-agent-modal"),o=document.getElementById("close-modal");if(document.getElementById("modal-backdrop"),!t||!o){console.log("Modal elements not found");return}const e=o.querySelector("svg");e&&e.classList.add("pointer-events-none");function a(){t.classList.add("opacity-0"),t.classList.add("pointer-events-none"),t.style.opacity="0",t.style.pointerEvents="none",document.body.classList.remove("overflow-hidden")}o.onclick=a});(function(){const t=document.getElementById("particleNetwork");if(!t)return;const o=t.getContext("2d");let e=[],a;const n={particleCount:45,particleSize:3,maxDistance:150,speed:.3,colors:{light:{particle:"rgba(59, 130, 246, 0.6)",line:"rgba(59, 130, 246, 0.15)"},dark:{particle:"rgba(142, 197, 255, 0.7)",line:"rgba(142, 197, 255, 0.2)"}}};function c(){return document.body.getAttribute("data-theme")==="dark"?n.colors.dark:n.colors.light}class h{constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=(Math.random()-.5)*n.speed,this.vy=(Math.random()-.5)*n.speed,this.size=n.particleSize}update(){this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t.width)&&(this.vx*=-1),(this.y<0||this.y>t.height)&&(this.vy*=-1),this.x=Math.max(0,Math.min(t.width,this.x)),this.y=Math.max(0,Math.min(t.height,this.y))}draw(s){o.beginPath(),o.arc(this.x,this.y,this.size,0,Math.PI*2),o.fillStyle=s.particle,o.fill()}}function l(){e=[];for(let d=0;d<n.particleCount;d++)e.push(new h)}function i(){const d=t.parentElement.getBoundingClientRect();t.width=d.width,t.height=d.height,l()}function m(d){for(let s=0;s<e.length;s++)for(let r=s+1;r<e.length;r++){const g=e[s].x-e[r].x,w=e[s].y-e[r].y,b=Math.sqrt(g*g+w*w);if(b<n.maxDistance){const I=1-b/n.maxDistance;o.beginPath(),o.moveTo(e[s].x,e[s].y),o.lineTo(e[r].x,e[r].y),o.strokeStyle=d.line.replace("0.15",I*.15),o.lineWidth=1,o.stroke()}}}function v(){o.clearRect(0,0,t.width,t.height);const d=c();e.forEach(s=>{s.update(),s.draw(d)}),m(d),a=requestAnimationFrame(v)}function L(){i(),v()}function p(){a&&cancelAnimationFrame(a)}function y(){window.innerWidth>=1280?L():p()}window.addEventListener("load",y),window.addEventListener("resize",()=>{y(),window.innerWidth>=1280&&i()}),new MutationObserver(()=>{}).observe(document.body,{attributes:!0,attributeFilter:["data-theme"]})})();
